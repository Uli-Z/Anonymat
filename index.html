<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Anonymizer UI</title>
  <!-- CONFIG-START -->
  <script>
    window.AppConfig = {
      language: "de"
    };
  </script>
  <!-- CONFIG-END -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- CSS auslagern -->
  <link rel="stylesheet" href="style.css">
  
  <!-- Ãœbersetzungsdatei einbinden -->
  <script src="translations.js"></script>
  <script src="config.js"></script>
  
  <!-- Weitere Skripte -->
  <script src="images.js"></script>
  <script src="placeholder.js"></script>
  <script src="date.js"></script>
  <script src="anonymizer.js"></script>
  <script src="utils.js"></script>
  <script src="ui.js"></script>
  <script src="modal.js"></script>
  <script src="editor.js"></script>
  <script src="contextMenu.js"></script>

</head>
<body>
  <header>
    <!-- Hamburger fÃ¼r kleine Bildschirme -->
    <div class="hamburger" id="openMenu" aria-label="MenÃ¼ Ã¶ffnen" title="MenÃ¼ Ã¶ffnen">&#9776;</div>
    <div class="header-title">
      <div class="header-logo" id="headerLogo" aria-label="Logo"></div>
      <div class="header-text">
        <h1 data-i18n="headerTitle">Anonymat</h1>
        <span data-i18n="headerSubtitle">PersÃ¶nliche Informationen lokal maskieren</span>
      </div>
    </div>
    <!-- Header-Actions: Use emojis instead of SVG icons -->
    <div class="header-actions">
      <!-- Add placeholder (â•) -->
      <button id="headerAddPlaceholder" data-i18n-alt="addPlaceholder">
        <span class="icon">â•</span>
      </button>
      <!-- Placeholder settings (ğŸ› ï¸) -->
      <button id="headerSettings" data-i18n-alt="settings">
        <span class="icon">ğŸ› ï¸</span>
      </button>
      <!-- Language change (ğŸŒ) remains -->
      <button id="headerGeneral" data-i18n-alt="languageChange">
        <span class="icon">ğŸŒ</span>
      </button>
      <!-- Help/About (ğŸ’¡) -->
      <button id="headerHelp" data-i18n-alt="help">
        <span class="icon">ğŸ’¡</span>
      </button>
      <!-- Mapping (ğŸ“‹) -->
      <button id="headerMapping" data-i18n-alt="mapping">
        <span class="icon">ğŸ“‹</span>
      </button>
      <!-- Download program (â¬‡ï¸) -->
      <button id="downloadProgramBtn" data-i18n-alt="programSave">
        <span class="icon">â¬‡ï¸</span>
      </button>
    </div>
  </header>
  
  <!-- Off-canvas MenÃ¼ fÃ¼r kleine Bildschirme -->
  <nav id="sideMenu">
    <div class="close-menu" id="closeMenu" aria-label="MenÃ¼ schlieÃŸen" title="MenÃ¼ schlieÃŸen">&times;</div>
    <ul>
      <li>
        <a href="#" id="menuAddPlaceholder" title="Platzhalter hinzufÃ¼gen" aria-label="Platzhalter hinzufÃ¼gen">
          <span class="icon" data-i18n-alt="addPlaceholder">â•</span>
          <span class="menu-text" data-i18n="addPlaceholder">Platzhalter hinzufÃ¼gen</span>
        </a>
      </li>
      <li>
        <a href="#" id="menuSettings" title="Platzhaltereinstellungen" aria-label="Platzhaltereinstellungen">
          <span class="icon" data-i18n-alt="settings">ğŸ› ï¸</span>
          <span class="menu-text" data-i18n="settings">Platzhaltereinstellungen</span>
        </a>
      </li>
      <li>
        <a href="#" id="menuGeneral" title="Sprache Ã¤ndern" aria-label="Sprache Ã¤ndern">
          <span class="icon" data-i18n-alt="languageChange">ğŸŒ</span>
          <span class="menu-text" data-i18n="languageChange">Sprache Ã¤ndern</span>
        </a>
      </li>
      <li>
        <a href="#" id="menuHelp" title="Hilfe/About" aria-label="Hilfe/About">
          <span class="icon" data-i18n-alt="help">ğŸ’¡</span>
          <span class="menu-text" data-i18n="help">Hilfe/About</span>
        </a>
      </li>
      <li>
        <a href="#" id="menuMapping" title="Mapping anzeigen" aria-label="Mapping anzeigen">
          <span class="icon" data-i18n-alt="mapping">ğŸ“‹</span>
          <span class="menu-text" data-i18n="mapping">Mapping anzeigen</span>
        </a>
      </li>
      <li>
        <a href="#" id="menuDownload" title="Programm als separate Datei speichern" aria-label="Programm als separate Datei speichern">
          <span class="icon" data-i18n-alt="programSave">â¬‡ï¸</span>
          <span class="menu-text" data-i18n="programSave">Programm speichern</span>
        </a>
      </li>
    </ul>
  </nav>
  
  <main>
    <div id="container">
      <div id="scrollable">
        <pre id="highlight"></pre>
        <textarea id="editor" spellcheck="false" data-i18n-placeholder="editorPlaceholder"></textarea>
      </div>
      <!-- Overlay-Button zum Kopieren in die Zwischenablage -->
      <button id="copyOverlayBtn" data-i18n="copyToClipboard">In Zwischenablage kopieren</button>
      <div id="progressBar">
         <div id="progressFill"></div>
         <div id="progressText">Loading...</div>
      </div>
      <!-- Aktion-Buttons: Ãœbersetzbare Texte -->
      <div id="actionButtons">
        <button class="action-btn" id="anonymizeBtn" aria-label="Anonymisieren" data-i18n-alt="anonymize">
          <span class="icon">â•</span>
          <span class="label" data-i18n="anonymize">Anonymisieren</span>
        </button>
        <button class="action-btn" id="deanonymizeBtn" aria-label="Deanonymisieren" data-i18n-alt="deanonymize">
          <span class="icon">ğŸ’¡</span>
          <span class="label" data-i18n="deanonymize">Deanonymisieren</span>
        </button>
      </div>
    </div>
  </main>
  
  <footer>
    <!-- Footer bleibt leer -->
  </footer>
  
  <!-- Modale -->
  <!-- Settings Modal: Nur Platzhaltereinstellungen -->
  <div id="settingsModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="placeholderOptions">Platzhaltereinstellungen</h3>
      <div id="placeholderOptionsContent"></div>
      <div style="text-align: center;">
        <button id="closeSettingsModalBtn" data-i18n="close">SchlieÃŸen</button>
      </div>
    </div>
  </div>
  
  <!-- General Modal: "Sprache Ã¤ndern" -->
  <div id="generalModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="languageChange">Sprache Ã¤ndern</h3>
      <label for="languageSelect" data-i18n="languageChange">Sprache der Benutzerschnittstelle:</label>
      <select id="languageSelect" style="padding: 8px; font-size: 16px; border: 1px solid #ccc; border-radius: 4px;">
        <option value="de">ğŸ‡©ğŸ‡ª Deutsch</option>
        <option value="en">ğŸ‡¬ğŸ‡§ English</option>
      </select>
      <div style="text-align: center; margin-top: 20px;">
        <button id="closeGeneralModalBtn" data-i18n="close">SchlieÃŸen</button>
      </div>
    </div>
  </div>
  
  <!-- Help/About Modal -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="helpTitle">Ãœber Anonymizer</h3>
      <p data-i18n="helpDescription">
        Anonymizer ist ein Werkzeug zur semiautomatischen Maskierung und Anonymisierung persÃ¶nlicher Daten in Texten. Es dient dazu, sensible Informationen wie Namen, E-Mail-Adressen, Telefonnummern oder Bankdaten zu erkennen und durch Platzhalter zu ersetzen, sodass Texte datenschutzkonform weitergegeben werden kÃ¶nnen â€“ beispielsweise an KI-basierte Anwendungen.
      </p>
      <p data-i18n="helpLocal">
        Die Anwendung lÃ¤uft vollstÃ¤ndig lokal im Browser und kommuniziert nicht mit externen Diensten. Alle Daten verbleiben auf Ihrem GerÃ¤t.
      </p>
      <p data-i18n="helpDisclaimer">
        Wichtiger Hinweis: Anonymizer stellt eine Hilfestellung dar. Es kann nicht garantieren, dass sÃ¤mtliche sensible Informationen erkannt und maskiert werden. Die Verantwortung fÃ¼r die endgÃ¼ltige ÃœberprÃ¼fung liegt beim Anwender.
      </p>
      <p data-i18n="helpLicense">
        Dieses Projekt ist Open Source und steht unter der MIT-Lizenz. Weitere Informationen und MitwirkungsmÃ¶glichkeiten finden Sie auf unserer GitHub-Seite.
      </p>
      <p data-i18n="helpVersion">
        Version: 1.0.0 | Â© 2025 DeinName
      </p>
      <div style="text-align: center; margin-top: 20px;">
        <button id="closeHelpModalBtn" data-i18n="close">SchlieÃŸen</button>
      </div>
    </div>
  </div>
  
  <!-- Mapping Modal -->
  <div id="mappingModal" class="modal">
    <div class="modal-content">
      <h3 data-i18n="mapping">Mapping-Liste</h3>
      <div id="mappingModalContent">
        <!-- Mapping-Tabelle wird hier dynamisch eingefÃ¼gt -->
      </div>
      <div style="text-align: center; margin-top: 20px;">
        <button id="resetMappingBtn">Mapping zurÃ¼cksetzen</button>
        <button id="closeMappingModalBtn" data-i18n="close">SchlieÃŸen</button>
      </div>
    </div>
  </div>
  
  <div id="customPlaceholderModal" class="modal" style="display:none;">
    <div class="modal-content">
      <h3>Platzhalter hinzufÃ¼gen</h3>
      <label for="customPattern">Muster:</label>
      <input type="text" id="customPattern" data-i18n-placeholder="customPatternPlaceholder" placeholder="Hier zu ersetzenden Text eingeben" />
      <label for="customLabel">Bezeichnung:</label>
      <input type="text" id="customLabel" placeholder="z.B. Secret" />
      <div class="modal-buttons">
        <button id="saveCustomPlaceholderBtn">Speichern</button>
        <button id="cancelCustomPlaceholderBtn">Abbrechen</button>
      </div>
    </div>
  </div>
  
  <!-- KontextmenÃ¼ -->
  <div id="contextMenu" class="context-menu">
    <button id="ctxAddPlaceholder"><span class="icon"></span> Platzhalter hinzufÃ¼gen</button>
    <button id="ctxDoNotAnonymize"><span class="icon"></span> Diesen Text nicht anonymisieren</button>
  </div>
  
  <!-- Der bisherige fancy Download-Code wurde in ui.js ausgelagert -->
  
</body>
</html>
